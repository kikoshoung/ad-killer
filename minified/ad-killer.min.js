/* ad-killer - A bookmarklet for web browser to kill rude advertisement
 * @author kikoshoung
 * last modified at 2013-03-20 06:19:13
 */
(function(){var e=window.adKillerByKikoshoung={},n=/(baidu|google|alimama|mediav|sogou)/,o=/(000dn|ggmm777|17leyi|37cs|49ko|91hui|91mangrandi|91tiger|14yaa|144gg|a135|arpg2|game3737|mediav|mnwan|qiyou|sogou|twcczhu)/,i=[],t=[document.documentElement.clientWidth,document.documentElement.clientHeight],a={dom:document.getElementById("ad-killer-panel"),show:function(){this.dom.style.display="block"},hide:function(){this.dom.style.display="none"},scanning:function(){var e=this.dom;e.innerHTML="\u6b63\u5728\u626b\u63cf\u6076\u610f\u5e7f\u544a...",e.style.backgroundColor="red",e.style.color="white"},completed:function(){var e=this.dom;e.innerHTML="\u5df2\u4e3a\u60a8\u6e05\u9664\u4e86"+i.length+"\u4e2a\u6076\u610f\u5e7f\u544a",e.style.backgroundColor="green"}},d=function(e){var a=e.children.length;if(a)for(var d=0,r=e.children;a>d;d++){var c=r[d],s=(c.position,l(c));"SCRIPT"!==c.tagName&&("IFRAME"===c.tagName&&s.match(n)||s.match(o)?i.push(c):t[0]===parseInt(c.clientWidth)&&t[1]<=parseInt(c.clientHeight)?i.push(c):arguments.callee(c))}},l=function(e){var n="";return n+=e.id?e.id:"",n+=e.className?e.className:"",n+=e.name?e.name:"",n+=e.src?e.src:"",n+=e.href?e.href:"",n+=e.style.background?e.style.background:"",n+=e.onload?""+e.onload:""},r=function(e){var o=e.parentNode,i=l(o);o.removeChild(e),i.match(n)&&o.parentNode.removeChild(o)};e.excu=function(){a.show(),a.scanning(),d(document.getElementsByTagName("body")[0]);for(var e=0;i.length>e;e++)r(i[e]);a.completed(),i=[],setTimeout(function(){a.hide()},2e3)},e.excu()})();