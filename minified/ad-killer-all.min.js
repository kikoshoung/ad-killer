/* ad-killer - A bookmarklet for web browser to kill rude advertisement
 * @author kikoshoung
 * last modified at 2013-05-27 10:36:58
 */
(function(){if(window.adKillerByKikoshoung)return window.adKillerByKikoshoung.excu(),void 0;var e=document.createElement("div"),n=document.body;e.id="ad-killer-panel",e.style.cssText="position: fixed; z-index: 9999999999; top: 0; right: 0; padding: 5px 10px; background-color: gold; color: black; font-size: 12px;",e.innerHTML="\u6b63\u5728\u4e3a\u60a8\u52a0\u8f7d\u5e7f\u544a\u6740\u624b...",n.appendChild(e);var o=window.adKillerByKikoshoung={},i=/(baidu|google|alimama|mediav|sogou)/,t=/(000dn|ggmm777|17leyi|37cs|49ko|778669|91hui|91mangrandi|91tiger|14yaa|144gg|adroll|a135|arpg2|baidu|baike|doubleclick|feitian001|game3737|hudong|mediav|mnwan|qiyou|sogou|taobao|twcczhu|youxjia|unionli|rxwan)/,a=[],d=[document.documentElement.clientWidth,document.documentElement.clientHeight],e={dom:document.getElementById("ad-killer-panel"),show:function(){this.dom.style.display="block"},hide:function(){this.dom.style.display="none"},scanning:function(){var e=this.dom;e.innerHTML="\u6b63\u5728\u626b\u63cf\u6076\u610f\u5e7f\u544a...",e.style.backgroundColor="red",e.style.color="white"},completed:function(){var e=this.dom;e.innerHTML="\u5df2\u4e3a\u60a8\u6e05\u9664\u4e86"+a.length+"\u4e2a\u6076\u610f\u5e7f\u544a",e.style.backgroundColor="green"}},l=function(e){var n=e.children?e.children.length:0;if(n)for(var o=0,l=e.children;n>o;o++){var c=l[o],s=c.style.position,u=c.parentNode.style.position,m=(c.position,r(c));"SCRIPT"!==c.tagName&&("IFRAME"===c.tagName&&m.match(i)||m.match(t)?a.push(c):d[0]===parseInt(c.clientWidth)&&d[1]<=parseInt(c.clientHeight)&&("absolute"===s||"fixed"===s||"absolute"===u||"fixed"===u)?a.push(c):arguments.callee(c))}},r=function(e){var n="";return n+=e.id?e.id:"",n+=e.className?e.className:"",n+=e.name?e.name:"",n+=e.src?e.src:"",n+=e.href?e.href:"",n+=e.style.background?e.style.background:"",n+=e.onload?""+e.onload:""},c=function(e){var n=e.parentNode,o=r(n);n.removeChild(e),o.match(i)&&n.parentNode.removeChild(n)};o.excu=function(){e.show(),e.scanning(),l(document.getElementsByTagName("body")[0]);for(var n=0;a.length>n;n++)c(a[n]);e.completed(),a=[],setTimeout(function(){e.hide()},2e3)},o.excu()})();